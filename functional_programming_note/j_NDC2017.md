# NDC 2017 더 좋은 코드를 위한 함수형 프로그래밍

### 1. 순수함수 Pure functions
- 함수의 결과값이 입력 인자 값들에 의해서만 결정
- 특정 입력 값에 대해 결과값이 결정적으로 대응
- Side effects가 없음
    - Side effects - 상태에 영향을 받거나 변화를 주는 모든 동작
        - ex) 화면출력, 소켓통신, 디스크 I/O, 예외 catch, 현재 시각 읽기, 난수 발생
- 참조 투명성 Referential transparency
    - 어떤 표현식을 그 표현식의 결과값으로 교체해도 전체 프로그램의 실행결과에 영향을 주지 않는 성질
    - 컴파일러에게 다양한 최적화 기회를 제공 
        - 기억 Memoization - 입력값 / 함수명을 알면 결과값은 항상 같음
        - 지연연산 LaZY evaluation - 실제로 결과값이 필요할 때만 함수를 평가
- FP 실천사항
    - 코드에게 가능한 순수함수의 비율이 많아지도록 한다
        - 글로벌 변수, 멤버 변수 의존도 줄이기
        - 상태를 없애거나 줄이고 부작용을 격리
    - 함수는 인자를 받아서 값을 리턴하는 형태로 한다
        - 래퍼런스 인자 보다는 값을 리턴
        - 여러 개의 값을 리턴할 때는 tuple을 사용
<br><br>

### 2. 불변성 Immutability
- 불변객체
    - 내용의 변경은 새로운 객체를 생성할 때만 가능
    - 생성, 테스트, 사용법이 단순하고 쉬움
    - Thread-safe
    - 쉬운 캐쉬 - 이름이 같으면 내용도 같다
    - Temporal coupling 줄임
    - Identity mutability problem 없음
- Temporal coupling
- Identity mutability problem
- FP 실천사항
    - 사용하는 객체를 불변으로 일단 바꾸어 놓고 코드를 고친다
        - Setter들 대신에 생성자에 인자로 초기화
        - 객체를 변경하지 않는 멤버함수들은 const로 한다
    - 다양한 분산 빅데이터 알고리즘
        - Immutability changes everything
    - 영속형 자료 구조
<br><br>

### 3. 고차함수 High order function
- 함수의 인자로 한 개 이상의 함수를 넘겨 받거나, 함수의 결과값을 다른 함수로 돌려주는 함수
- FP 기본 
    - map, transform - A[T]를 A[V]로 바꾸어 리턴하는 함수
    - filter, remove - A[T]의 각 요소 x에 대해 f(x)가 참인 요소만 리턴하는 함수
    - reduce, accumulate, fold - A[T]에 대해 f(f(f(A[0]),A[1]),A[2]).. 를 리턴하는 함수
- FP 실천사항
    - 고차함수를 사용해서 코드를 간결하게 한다
        - 간결한 코드 -> 가독성 -> 적은 버그
    - 알고리즘의 구현 부분과 사용부분을 분리한다
        - 로직 구현에 실제로 관련 없는 임시변수와 상태들을 없앤다
    - 함수를 합성가능하게 만들어서 재활용성을 높인다
        - 검증된 재활용이 쉬운 Building block들을 합성
    - 지연연산을 활용하여 촤적화를 시도한다
        - 무한리스트
<br><br>

### 4. 타입시스템 Type
- 타입의 활용
    - 메모리상에 저장된 데이터가 쓰일 방법을 정의
    - 가능한 빠른 단계에서 오류 발견
    - 코드의 의미 함축성 증가
    - 코드 작성중의 힌트
    - 로직 설계의 도구
    - 지원하지 않는 동작은 표현 자체가 불가능 하도록 한다
    - 합성 동작의 연결을 위한 접착제
- FP 실천사항
    - 타입을 최대한 사용해서 안전한 코드를 만든다
        - 불가능한 동작은 표현 자체가 불가능 하도록 한다
    - 타입이 표현가능한 사앹의 개수(Cardinality)를 계산한다
        - Product 타입, Sum 타입
    - 유효하지 않은 상태를 가질 수 없는 타입을 정의
<br><br>

# Reference
http://ndcreplay.nexon.com/NDC2017/sessions/NDC2017_0025.html 
